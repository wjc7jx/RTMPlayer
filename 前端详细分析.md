基于Vue + Vite + Element Plus + hls.js 的视频播放器项目
# 一、整体模块划分
1. **首页（Home）**
    - 功能：展示视频列表 + 播放视频
    - 核心技术：`hls.js` + `<video>`
    - 数据来源：后端点播接口
2. **视频上传（Upload）**
    - 功能：用户上传视频文件（MP4）
    - 核心技术：Element Plus `ElUpload` / Axios
    - 后端接口：Spring Boot 文件上传接口
    - 可选功能：上传进度条、格式/大小限制
3. **我的（My）**
    - 功能：展示用户已上传或收藏的视频
    - 核心技术：后端接口 + Vue 列表渲染
    - 可选功能：删除视频、查看视频详情
4. **公共组件**
    - 视频播放器组件（可复用）
    - 顶部导航栏 / 底部导航栏
    - 全局提示 / 弹窗

---

# 二、功能拆分表
| 模块 | 功能点 | 技术实现 | 备注 |
| --- | --- | --- | --- |
| 首页 | 视频列表展示 | `ElCard`<br/> / `ElTable`<br/> + Axios | 请求后端视频列表接口 |
| | 视频播放 | `<video>`<br/> + `hls.js` | 支持 HLS 点播视频 |
| | 点击播放切换视频 | Vue 状态管理 | 可用 `ref`<br/> 或 Pinia |
| 上传 | 视频选择 | `ElUpload` | 文件类型限制（MP4） |
| | 上传进度 | `ElProgress`<br/> 或 `ElUpload`<br/> 自带 | 展示上传状态 |
| | 上传提交 | Axios POST `/upload` | 后端保存文件 + 生成 HLS |
| 我的 | 视频列表展示 | `ElTable`<br/> / `ElCard` | 请求后端用户视频列表接口 |
| | 删除/管理视频 | Axios DELETE | 可选功能 |
| 公共组件 | 视频播放器 | 封装 `<VideoPlayer>` | 接收 HLS 地址 prop |
| | 顶部导航 | `ElMenu`<br/> / Router-Link | 导航首页、上传、我的 |
| | 弹窗提示 | `ElMessage`<br/> / `ElDialog` | 成功、错误提示 |


---

# 后端接口
## 一、视频列表接口（首页）
+ **接口**：`GET /api/videos`
+ **功能**：获取可播放的视频列表（首页显示）
+ **请求参数**：可选分页参数
+ **返回数据示例**：

```plain
[
  {
    "id": 1,
    "title": "示例视频",
    "cover": "/covers/demo1.png",
    "hlsUrl": "http://server/video/demo1.m3u8",
    "uploadedBy": "user1",
    "uploadTime": "2025-12-23T10:00:00"
  },
  {
    "id": 2,
    "title": "示例视频2",
    "cover": "/covers/demo2.png",
    "hlsUrl": "http://server/video/demo2.m3u8",
    "uploadedBy": "user2",
    "uploadTime": "2025-12-23T11:00:00"
  }
]
```

---

## 二、视频上传接口（上传模块）
+ **接口**：`POST /api/upload`
+ **功能**：接收前端上传的视频文件
+ **请求参数**：
    - `multipart/form-data`
    - `file`：视频文件（MP4）
    - 可选：`title`、`cover`
+ **返回示例**：

```plain
{
  "code": 0,
  "message": "上传成功",
  "videoId": 1,
  "hlsUrl": "http://server/video/demo1.m3u8"
}
```

+ **后端处理**：
    1. 保存 MP4 文件到存储路径
    2. 使用 FFmpeg 或服务器工具生成 HLS 分片（.m3u8 + .ts）
    3. 保存视频元数据（id、title、路径、上传人、时间）到数据库

---

## 三、我的视频接口（用户中心）
1. **获取用户视频列表**
+ **接口**：`GET /api/my/videos`
+ **功能**：返回当前用户上传的视频
+ **返回示例**：

```plain
[
  {
    "id": 1,
    "title": "我的视频",
    "cover": "/covers/myvideo.png",
    "hlsUrl": "http://server/video/myvideo.m3u8",
    "uploadTime": "2025-12-23T10:00:00"
  }
]
```

1. **删除视频**（可选）
+ **接口**：`DELETE /api/my/videos/{id}`
+ **功能**：删除指定视频文件及 HLS 分片
+ **返回示例**：

```plain
{
  "code": 0,
  "message": "删除成功"
}
```

---

## 四、视频播放接口（可选统一接口）
+ **接口**：`GET /api/video/{id}`
+ **功能**：获取单个视频的播放地址（HLS URL）
+ **返回示例**：

```plain
{
  "id": 1,
  "title": "示例视频",
  "hlsUrl": "http://server/video/demo1.m3u8"
}
```

这样可以统一前端播放器逻辑，只要传 `hlsUrl` 即可播放

